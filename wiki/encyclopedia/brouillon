def new(request):

    if request.method == "POST":

        # Take in the data the user submitted and save it as form
        form = NewPageForm(request.POST)

        # Check if form data is valid (server-side)
        if form.is_valid():

            # Isolate the title and the content from the 'cleaned' version of form data
            title = form.cleaned_data["title"]
            content = form.cleaned_data["content"]

            # Isolate the title and the content from the 'cleaned' version of form data
            if title.casefold() in util.list_entries():
                return HttpResponse("ERROR THIS PAGE ALREADY EXISTS")
            else:
            # Redirect user to list of pages
                return HttpResponseRedirect(reverse("encyclopedia:index"))

        else:

            # If the form is invalid, re-render the page with existing information.
            return render(request, "encyclopedia/new.html", {
                "form": form
            })

    return render(request, "encyclopedia/new.html", {
        "form": NewPageForm()
    })